(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/baloon.5138af4b.jpeg"},19:function(e,t,a){e.exports=a.p+"static/media/commercialAirplane.7c770f8c.jpg"},20:function(e,t,a){e.exports=a.p+"static/media/commercialAirplane1.3ac6ac98.jpg"},21:function(e,t,a){e.exports=a.p+"static/media/commercialAirplane2.b36362c2.jpg"},24:function(e,t,a){e.exports=a(53)},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){var n={"./Wheather.jpg":52,"./baloon.jpeg":18,"./commercialAirplane.jpg":19,"./commercialAirplane1.jpg":20,"./commercialAirplane2.jpg":21};function i(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=r,e.exports=i,i.id=51},52:function(e,t,a){e.exports=a.p+"static/media/Wheather.cc00747c.jpg"},53:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(22),s=a.n(r),o=a(23),l=a(2),c=a(3),m=a(5),u=a(4),h=a(7),d=a(6),p=a(8),g=a.n(p),f=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={originPlace:"Cluj Napoca",destinationPlace:"",inboundDate:(new Date).toLocaleDateString(),outboundDate:(new Date).toLocaleDateString(),cabinClass:"economy",adults:"1",country:"RO",currency:"EUR",locale:"en-US"},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"flightFormContainer"},i.a.createElement("form",{className:"flightForm",onSubmit:this.props.handleSubmit},i.a.createElement("div",{className:"formRow"},i.a.createElement("div",{className:"dropDown"},i.a.createElement("h3",null,"Flying from: "),i.a.createElement("select",{className:"dropDownSelect",name:"originPlace",required:!0,value:this.props.originPlace,onChange:this.props.handleChange},i.a.createElement("option",{className:"city",value:"Bucuresti"},"Bucuresti"),i.a.createElement("option",{className:"city",value:"Cluj Napoca"},"Cluj Napoca"),i.a.createElement("option",{className:"city",value:"Constanta"},"Constanta"),i.a.createElement("option",{className:"city",value:"Timisoara"},"Timisoara"))),i.a.createElement("div",{className:"textInput"},i.a.createElement("h3",null,"Flying to: "),i.a.createElement("input",{className:"inputText",type:"text",name:"destinationPlace",placeholder:"Bucuresti",required:!0,value:this.props.destinationPlace,onChange:this.props.handleChange}))),i.a.createElement("div",{className:"formRow "},i.a.createElement("h3",null,"Departure date"),i.a.createElement("input",{className:"textInput dateBox",type:"date",name:"outboundDate",required:!0,value:this.props.outboundDate,onChange:this.props.handleChange}),i.a.createElement("h3",null,"Return date"),i.a.createElement("input",{className:"textInput dateBox",type:"date",name:"inboundDate",required:!0,value:this.props.intboundDate,onChange:this.props.handleChange})),i.a.createElement("div",{className:"formRow lastRow"},i.a.createElement("div",{className:"dropDown"},i.a.createElement("h3",null,"Cabin Class"),i.a.createElement("select",{className:"dropDownSelect",type:"text",name:"cabinClass",value:this.props.cabinClass,onChange:this.props.handleChange},i.a.createElement("option",{value:"economy"}," Economy "),i.a.createElement("option",{value:"business"}," Business "),i.a.createElement("option",{value:"first"}," First "))),i.a.createElement("div",{className:"dropDown"},i.a.createElement("h3",null,"Passenger Count"),i.a.createElement("select",{className:"dropDownSelect",type:"text",name:"adults",value:this.props.adults,onChange:this.props.handleChange},i.a.createElement("option",{value:"1"}," 1 "),i.a.createElement("option",{value:"2"}," 2 "),i.a.createElement("option",{value:"3"}," 3 "),i.a.createElement("option",{value:"4"}," 4 ")))),i.a.createElement("div",{className:"subButton"},i.a.createElement("button",{className:"myButton",type:"submit"},"Search"))))}}]),t}(n.Component),E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={items:[],flightsParams:{},flightsData:{},itineraries:[],sortPrice:[],origin:"",destination:"",outboundDate:"",inboundDate:"",price:[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,this.props.price.map((function(t){return i.a.createElement("div",{key:(t.Price*Math.random()).toString(),className:"flightCardContainer"},i.a.createElement("div",{className:"flightCardRoute"},i.a.createElement("h2",null," ",e.props.flightsParams.origin),i.a.createElement("h4",{className:"arrow"},i.a.createElement("svg",{width:"100px",height:"20px",viewBox:"0 0 100 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none"},i.a.createElement("g",{transform:"translate(5.000000, 5.000000)"},i.a.createElement("path",{d:"M0.5,5 L79,5",stroke:"#666666",strokeWidth:"2",strokeLinecap:"square"}),i.a.createElement("polygon",{fill:"#666666",transform:"translate(85.000000, 5.000000) rotate(90.000000) translate(-85.000000, -5.000000) ",points:"85 0 90 10 80 10"})),i.a.createElement("circle",{stroke:"#666666",strokeWidth:"2",fill:"#FFFFFF",cx:"50",cy:"10",r:"3"})))),i.a.createElement("h2",null,e.props.flightsParams.destination)),i.a.createElement("div",{className:"flightCardGetPrice"},i.a.createElement("div",{className:"flightCardDateContainer"},i.a.createElement("h2",{className:"flightCardDateH noMarginTopTag"},i.a.createElement("span",{className:"flightCardDate"},"Departure date: "),e.props.flightsParams.outboundDate,i.a.createElement("br",null),i.a.createElement("span",{className:"flightCardDate"},"return date: "),e.props.flightsParams.inboundDate)),i.a.createElement("div",{className:"priceContainer"},i.a.createElement("h2",{className:"priceStyle noMarginTopTag"},"Price: ",t.Price+"  \u20ac",i.a.createElement("a",{className:"anchorBtn",target:"_blank",rel:"noopener noreferrer",href:"".concat(t.DeeplinkUrl)},"Buy")))))})))}}]),t}(n.Component),b=(a(46),a(47),a(48),a(49),a(50),a(18),a(19),a(20),a(21),["commercialAirplane1.jpg","baloon.jpeg","commercialAirplane.jpg","commercialAirplane2.jpg"]),N=0,v=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,i=t.value;a.setState(Object(o.a)({},n,i))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.originPlace,i=t.destinationPlace,r=t.inboundDate,s=t.outboundDate,o=t.adults,l=t.currency,c=t.locale,m=t.country,u=t.cabinClass;g.a.post("http://localhost:8080/items",{originPlace:n,destinationPlace:i,inboundDate:r,outboundDate:s,adults:o,currency:l,locale:c,country:m,cabinClass:u}).then((function(e){a.setState({loading:!0}),setTimeout((function(){return a.loadItems()}),14e3)})).catch((function(e){return console.log(e)}))},a.loadItems=function(){return g.a.get("http://localhost:8080/items").then((function(e){if(null===e.data[0].wheatherorigin||"undefined"===typeof e.data[0].wheatherorigin)return console.log(e),6===++N?g.a.delete("http://localhost:8080/items/id").then((function(e){N=0,console.log(e,"delete"),setTimeout((function(){return a.loadItems()}),2e3)})).then((function(){return alert("Something is wrong! Check if the destination is correct, if so, try again later!")})):setTimeout((function(){return a.loadItems()}),2e3);a.setState({loading:!1}),a.setState({items:e.data}),a.setState({cities:C(e.data)}),a.setState({wheatherorigin:[y(e.data[0].outboundDate,JSON.parse(e.data[0].wheatherorigin).wheathOrigin.list)]}),a.setState({wheatherdestination:[y(e.data[0].outboundDate,JSON.parse(e.data[0].wheatherdestination).wheathDestination.list)]}),a.setState({flightsParams:a.state.items[0]}),a.setState({flightsData:JSON.parse(a.state.flightsParams.flightsData)}),a.setState({itineraries:a.state.flightsData.responseFlightsData.Itineraries}),a.setState({price:D(a.state.itineraries)}),a.setState({sortPrice:a.state.price.sort((function(e,t){return Number(e.Price)-Number(t.Price)}))}),console.log(y(e.data[0].outboundDate,JSON.parse(e.data[0].wheatherorigin).wheathOrigin.list),a.state.wheatherorigin)})).catch((function(e){return console.log(e)}))},a.state={items:[],flightsParams:{},flightsData:{},itineraries:[],sortPrice:[],origin:"",destination:"",outboundDate:"",inboundDate:"",price:[],originPlace:"Cluj Napoca",destinationPlace:"",cities:[],wheatherorigin:[],wheatherdestination:[],cabinClass:"economy",adults:"1",country:"RO",currency:"EUR",locale:"en-US",slide:b,loading:!1},a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.loadItems()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"mainContainer"},i.a.createElement("img",{className:"bkgImage",src:a(51)("./".concat(b[Math.floor(b.length*Math.random())])),alt:"flying objects"}),i.a.createElement("header",{className:"appHeader"},i.a.createElement("h1",{className:"pageTitle"},"Flights search engine"),i.a.createElement("p",{className:"powered"},"Powered by Skyscanner")),i.a.createElement("main",{className:"mainContent"},i.a.createElement("div",{className:"sideContainers historyOfSearch"},i.a.createElement("div",{className:"sideImage airplaneImage"}),i.a.createElement("h3",{className:"historyTitle"},"The latest flight searches:",i.a.createElement("br",null),i.a.createElement("span",{style:{marginTop:0,fontSize:"0.6em"}},"(results are from MySQL database)")),this.state.items.map((function(e){return i.a.createElement("div",{key:e.id,className:"historyCard"},i.a.createElement("h4",{className:"noMarginTop"},e.origin," to ",e.destination),i.a.createElement("h5",{className:"noMarginTop"},e.outboundDate," return on: ",e.inboundDate))}))),i.a.createElement("div",{className:"middleContainer"},i.a.createElement(f,{handleSubmit:this.handleSubmit,originPlace:this.state.originPlace,handleChange:this.handleChange}),!0===this.state.loading?i.a.createElement("div",{id:"loader"},i.a.createElement("div",{id:"loaderAnimation"}),i.a.createElement("h3",{id:"loadingText"},"Loading...")):i.a.createElement(E,{price:this.state.price,itineraries:this.state.itineraries,flightsData:this.state.flightsData,flightsParams:this.state.flightsParams})),i.a.createElement("div",{className:"sideContainers forecastWheather"},i.a.createElement("div",{className:"sideImage wheatherImage"}),i.a.createElement("div",null,this.state.wheatherorigin.map((function(t){return"undefined"===typeof t?i.a.createElement("h1",null,"Can't display wheather. But doesn't matter because the weather is unpredictable."):i.a.createElement("div",{key:(t.dt*Math.random()).toString(),className:"wheathCard"},e.state.cities.map((function(e){return i.a.createElement("h2",{className:"noMarginTop",key:(e.id*Math.random()).toString()},e.origin)})),e.state.cities.map((function(t){return i.a.createElement("h4",{key:e.state.cities[0].id,className:"noMarginTop"},t.outboundDate)})),i.a.createElement("h4",{className:"noMarginTop"},"Temp max: ",Math.round(t.temp.max)," \u2103"),i.a.createElement("h4",{className:"noMarginTop"},"Temp min: ",Math.round(t.temp.min)," \u2103"),i.a.createElement("h4",{className:"noMarginTop capitalizes"},t.weather[0].description))})),this.state.wheatherdestination.map((function(t){return"undefined"===typeof t?i.a.createElement("h1",null,"Can't display wheather. But doesn't matter because the weather is unpredictable."):i.a.createElement("div",{key:(t.dt*Math.random()).toString(),className:"wheathCard"},e.state.cities.map((function(e){return i.a.createElement("h2",{className:"noMarginTop",key:(e.id*Math.random()).toString()},e.destination)})),e.state.cities.map((function(t){return i.a.createElement("h4",{key:e.state.cities[0].id.toString(),className:"noMarginTop"},t.outboundDate)})),i.a.createElement("h4",{className:"noMarginTop"},"Temp max: ",Math.round(t.temp.max)," \u2103"),i.a.createElement("h4",{className:"noMarginTop"},"Temp min: ",Math.round(t.temp.min)," \u2103"),i.a.createElement("h4",{className:"noMarginTop capitalizes"},t.weather[0].description))}))))))}}]),t}(n.Component),y=function(e,t){new Date(e);return t.find((function(e){var t=1e3*e.dt;new Date(t);return e}))},C=function(e){return e.slice(0,1)},D=function(e){var t=e[0].PricingOptions;if(0===e.length)return alert("Something is wrong! Verify if destination is type corectly! If yes try again.");if(1===e.length)return e[0].PricingOptions;for(var a=1;a<e.length;a++)t=t.concat(e[a].PricingOptions);return t},w=v;s.a.render(i.a.createElement(w,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.d420f0f7.chunk.js.map